{% extends "base.html" %}

{% block title %}ログイン - AWS Cognito + Snowflake OAuth App{% endblock %}
{% block heading %}AWS Cognito OAuth 認証{% endblock %}

{% block content %}
<div style="text-align: center;">
    <p>AWS CognitoのOAuth認証を使用してログインしてください。</p>
    
    <form method="POST" action="{{ url_for('login') }}" style="margin-bottom: 20px;">
        <div style="margin-bottom: 15px;">
            <label for="role"><strong>Role（オプション）:</strong></label><br>
            <input type="text" name="role" id="role" placeholder="ANALYST, SALES等" style="padding: 8px; border: 1px solid #ddd; border-radius: 4px; width: 300px; margin-top: 5px;">
            <br><small style="color: #666;">空欄の場合はrole-anyスコープを使用</small>
        </div>
        <button type="submit" class="btn">AWS Cognitoでログイン</button>
    </form>
    
    <div style="margin-top: 30px; padding: 20px; background-color: #fff3cd; border: 1px solid #ffeaa7; border-radius: 4px;">
        <h3>設定方法:</h3>
        <ol style="text-align: left; max-width: 600px; margin: 0 auto;">
            <li>.envファイルを作成し、以下の値を設定してください:</li>
            <ul>
                <li>COGNITO_CLIENT_ID</li>
                <li>COGNITO_CLIENT_SECRET</li>
                <li>COGNITO_DOMAIN</li>
                <li>AWS_REGION</li>
                <li>SNOWFLAKE_ACCOUNT_IDENTIFIER</li>
                <li>FLASK_SECRET_KEY</li>
            </ul>
            <li>OAuth integrationのリダイレクトURIは: <code>http://localhost:5000/callback</code></li>
            <li>事前にTerraformでCognito User Poolをデプロイしてください</li>
        </ol>
    </div>
</div>
{% endblock %}